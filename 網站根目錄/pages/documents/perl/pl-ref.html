<title>PERL -- Passing By Reference</title>
<H3>Passing By Reference</H3>
Sometimes you don't want to pass the value of an array to a subroutine but
rather the name of it, so that the subroutine can modify the global copy
of it rather than working with a local copy.
In perl you can refer to all the objects of a particular name by prefixing
the name with a star: *foo.
When evaluated, it produces a scalar value that represents all the objects
of that name, including any filehandle, format or subroutine.
When assigned to within a <A HREF=pl-exp-misc.html#local>local</A>() operation, it causes the name mentioned
to refer to whatever * value was assigned to it.
<p>
Example:
<pre>
	sub doubleary {
	    <A HREF=pl-exp-misc.html#local>local</A>(*someary) = @_;
	    <A HREF=pl-compound.html#foreach>foreach</A> $elem (@someary) {
		$elem *= 2;
	    }
	}
	<A HREF=pl-exp-flow.html#do>do</A> doubleary(*foo);
	<A HREF=pl-exp-flow.html#do>do</A> doubleary(*bar);
</pre>
Assignment to *name is currently recommended only inside a <A HREF=pl-exp-misc.html#local>local</A>().
You can actually assign to *name anywhere, but the previous referent of
*name may be stranded forever.
This may or may not bother you.
<p>
Note that scalars are already passed by reference, so you can modify scalar
arguments without using this mechanism by referring explicitly to the $_[nnn]
in question.
You can modify all the elements of an array by passing all the elements
as scalars, but you have to use the * mechanism to push, pop or change the
size of an array.
The * mechanism will probably be more efficient in any case.
<p>
Since a *name value contains unprintable binary data, if it is used as
an argument in a print, or as a %s argument in a <A HREF=pl-exp-io.html#printf>printf</A> or sprintf, it
then has the value '*name', just so it prints out pretty.
<p>
Even if you don't want to modify an array, this mechanism is useful for
passing multiple arrays in a single LIST, since normally the LIST mechanism
will merge all the array values so that you can't extract out the
individual arrays.
